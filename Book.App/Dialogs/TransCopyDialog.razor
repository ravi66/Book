@using System.Globalization

<MudDialog>
    <DialogContent>
        <MudPaper Class="mt-0 mb-2 ms-0 me-0 ps-2 pe-2" Elevation="5" >
            <MudText Typo="Typo.h6" >@DialogTitle</MudText>
        </MudPaper>
        <MudPaper Class="mt-0 mb-2 ms-0 me-0 ps-2 pe-2" Elevation="5">
            <MudSelect T="Frequency" Value="SelectedFrequency" AnchorOrigin="Origin.BottomCenter" ValueChanged="@(FrequencyChanged)" Dense="true" Margin="Margin.Dense" DisableUnderLine="true" Class="mt-0 mb-0 pa-0 ">
                @foreach (var frequency in Frequencies)
                {
                    <MudSelectItem Value="frequency">@frequency.FrequencyName</MudSelectItem>
                }
            </MudSelect>
        </MudPaper>
        <MudTable Items="@NewTransactions" Hover="true" Dense="true" SortLabel="Sort By" Elevation="5" AllowUnsorted="false" Class="mt-0 mb-2 ms-0 me-0 ps-2 pe-2">
            <HeaderContent>
                <MudTh><MudTableSortLabel InitialDirection="SortDirection.Ascending" SortBy="new Func<Transaction, object>(x=>x.TransactionDate)">Dated</MudTableSortLabel></MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Dated" >@context.TransactionDate.ToShortDateString()
                    <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Secondary" aria-label="delete" OnClick="() => DeleteTransaction(context.TransactionDate)" Size="Size.Small" />
                </MudTd>
            </RowTemplate>
        </MudTable>
    </DialogContent>
    <DialogActions>
        <MudIconButton Variant="Variant.Filled" Color="Color.Primary" Icon="@Icons.Material.Filled.Save" OnClick="HandleSubmit" aria-label="save" />
        <MudIconButton Variant="Variant.Filled" Color="Color.Primary" Icon="@Icons.Material.Filled.Cancel" OnClick="Close" aria-label="close" />
    </DialogActions>
</MudDialog>