@using System.Globalization

<MudDialog>
    <DialogContent>
        <MudStack Row="true" Class="pa-2">
            <MudText Typo="Typo.h6" >@DialogTitle</MudText>
                <MudIconButton Icon="@Icons.Material.Filled.Cancel" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Small" OnClick="Close" aria-label="close" />
        </MudStack>
        <MudStack >
            <MudSelect  Variant="Variant.Outlined"
                        T="Frequency"
                        Value="SelectedFrequency"
                        AnchorOrigin="Origin.BottomCenter"
                        ValueChanged="@(FrequencyChanged)"
                        Dense="true"
                        Margin="Margin.Dense">
                @foreach (var frequency in Frequencies)
                {
                    <MudSelectItem Value="frequency">@frequency.FrequencyName</MudSelectItem>
                }
            </MudSelect>

            <MudIconButton Variant="Variant.Filled"
                           Color="Color.Primary"
                           Icon="@Icons.Material.Filled.Save"
                           Size="Size.Small"
                           OnClick="HandleSubmit" />
        </MudStack>

        <MudTable Items="@NewTransactions" Hover="true" Dense="true" >
            <HeaderContent>
                <MudTh><MudTableSortLabel SortBy="new Func<Transaction, object>(x=>x.TransactionDate)">Dated</MudTableSortLabel></MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Dated" >@context.TransactionDate.ToShortDateString()
                    <MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Secondary" aria-label="delete" OnClick="() => DeleteTransaction(context.TransactionDate)" Size="Size.Small" />
                </MudTd>
            </RowTemplate>
        </MudTable>

    </DialogContent>
</MudDialog>