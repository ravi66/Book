@using System.Globalization

<MudDialog>
    <DialogContent>

        <MudStack Justify="Justify.FlexStart" AlignItems="AlignItems.Center" Class="pt-0" Row="true">
            
            <MudCard Style="width: 50%;" Elevation="5">
                <MudSelect  Style="width: 100%;"
                            Variant="Variant.Outlined"
                            T="Frequency"
                            Value="SelectedFrequency"
                            AnchorOrigin="Origin.BottomCenter"
                            ValueChanged="@(FrequencyChanged)"
                            Dense="true"
                            Margin="Margin.Dense">
                    @foreach (var frequency in Frequencies)
                    {
                        <MudSelectItem Value="frequency">@frequency.FrequencyName</MudSelectItem>
                    }
                </MudSelect>
            </MudCard>

            <MudIconButton  Variant="Variant.Filled"
                            Color="Color.Primary"
                            Icon="@Icons.Material.Filled.Save"
                            Size="Size.Large"
                            OnClick="HandleSubmit" />

            <MudIconButton  Variant="Variant.Filled" 
                            Color="Color.Primary"
                            Icon="@Icons.Material.Filled.Cancel"
                            Size="Size.Large"
                            OnClick="MudDialog.Cancel" />

            <MudSpacer />

        </MudStack>

        <MudTable Items="@NewTransactions"
                  Hover="true">
            <HeaderContent>
                <MudTh><MudTableSortLabel SortBy="new Func<Transaction, object>(x=>x.TransactionDate)">Dated</MudTableSortLabel></MudTh>
                <MudTh></MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Dated">@context.TransactionDate.ToShortDateString()</MudTd>
                <MudTd><MudIconButton Icon="@Icons.Material.Filled.Delete" Color="Color.Secondary" aria-label="delete" OnClick="() => DeleteTransaction(context.TransactionDate)" /></MudTd>
            </RowTemplate>
        </MudTable>

    </DialogContent>
</MudDialog>